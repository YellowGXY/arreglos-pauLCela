#include <stdio.h>
#include <string.h>

int main (int argc, char *argv[])
{
    int opc1,cont = 0, len = 1, aux, opc2 = 0;
    char materias [3][30];
    char nombres [5][30];
    float promedio_materias [5];
    float nota_bio[5];
    float nota_mate[5];
    float nota_leng[5];
    float promedio_final;
    float promedio_altobio;
    float promedio_altomate;
    float promedio_altoleng;
    float promedio_bajobio;
    float promedio_bajomate;
    float promedio_bajoleng;


    do{
        printf("Seleccione una opcion: \n");
        printf("1. Registrar nombres de estudiantes. \n");
        printf("2. Ingresar calificaciones. \n");
        printf("3. Calcular promedio de general de estudiantes. \n");
        printf("4. Calcular promedio de materias. \n");
        printf("5. Ver aprobados y reprobados. \n");
        printf("6. Promedios altos y bajos. \n");
        scanf("%d",&opc1);

        switch (opc1)
        {
            case 1:
                len = 0;
                for (int i = 0; i<5 ; i++){
                    printf("Ingrese el nombre del estudiante %d: ", cont);
                    fflush(stdin);
                    fgets(nombres[i],30,stdin);
                    cont++;
            
                    len = strlen(nombres[i]) - 1;
                    nombres[i][len]='\0';
                }
                len = 0;
                printf("Nombres ingresados con exito.\n");

                break;

            case 2:
                
                if (len == 1){
                    do{ 
                        cont = 1;
                        printf ("#\t\tNombre\n");
                        for (int i = 0; i < 5; i++)
                        {
                            printf("%d\t\t%s\n",cont ,nombres[i]);
                            cont++;
                        }
                        printf("Seleccione el estudiante al que registrará la nota");
                        scanf("%d", &aux);

                        if (aux > 0 && aux<=5){
                            aux--;
                            printf("\nIngrese la nota de Biología del estudiante %s: ", nombres[aux]);
                            do {
                                scanf("%d", &nota_bio[aux]);
                                if (nota_bio[aux]< 0 || nota_bio[aux] > 10){
                                    printf("\nLa nota no es válida. Debe ser entre 0 y 10. Ingrese nuevamente la nota: ");
                                } 
                            } while (nota_bio[aux]< 0 || nota_bio[aux] > 10);
                            printf("\nIngrese la nota de Lengua del estudiante %s: ", nombres[aux]);
                            do {
                                scanf("%d", &nota_leng[aux]);
                                if (nota_leng[aux]< 0 || nota_leng[aux] > 10){
                                    printf("\nLa nota no es válida. Debe ser entre 0 y 10. Ingrese nuevamente la nota: ");
                                } 
                            } while (nota_leng[aux]< 0 || nota_leng[aux] > 10);
                            printf("\nIngrese la nota de Matemáticas del estudiante %s: ", nombres[aux]);
                            do {
                                scanf("%d", &nota_mate[aux]);
                                if (nota_mate[aux]< 0 || nota_mate[aux] > 10){
                                    printf("\nLa nota no es válida. Debe ser entre 0 y 10. Ingrese nuevamente la nota: ");
                                } 
                            } while (nota_mate[aux]< 0 || nota_mate[aux] > 10);
                        } else {
                            printf("El numero de estudiante ingresado es invalido.\n Ingrese nuevamente el numero del estudiante\n");
                        }

                        printf("Desea ingresar la nota de otro estudiante? \n 1. Si \n 2. No\n");
                        do {
                            scanf("%d", &opc2);
                            if (opc2 < 1 || opc2 > 2){
                                printf("Opcion invalida. Ingrese nuevamente la opcion: ");
                            }
                        } while (opc2 < 1 || opc2 > 2);
                    } while (opc2 == 1);
                    
                    printf("Notas ingresadas con exito.\n");

                } else {
                    printf("No hay estudiantes registrados\n");
                }

                break;

            case 3:
                
                

                break;

            case 4:
                

                break;

            case 5:
                

                break;

        }

    }


    return 0;
}
